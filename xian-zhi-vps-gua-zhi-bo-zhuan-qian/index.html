<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>闲置vps挂直播赚钱 | 表酱紫 </title>
<link rel="shortcut icon" href="https://diss.one/favicon.ico?v=1699419513018">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://diss.one/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="闲置vps挂直播赚钱 | 表酱紫  - Atom Feed" href="https://diss.one/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-KL7J9YT996"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KL7J9YT996');
</script>


    <meta name="description" content="前言是不是感觉跟我混的久了，手上或多或少都有几台VPS了？最近几天我在思考的内容就是《如何利用闲置的服务器赚钱》。我在网上也搜索了相关资料，多数给出的答案无外乎以下几方面：1、出租流量 这个我也想到过了，而且我原来也写过相关的帖子，但是因为..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://diss.one">
  <img class="avatar" src="https://diss.one/images/avatar.png?v=1699419513018" alt="">
  </a>
  <h1 class="site-title">
    表酱紫 
  </h1>
  <p class="site-description">
    复杂的世界 一个就够了
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/about" class="menu">
          关于
        </a>
      
    
      
        <a href="/lnks" class="menu">
          友链
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              闲置vps挂直播赚钱
            </h2>
            <div class="post-info">
              <span>
                01-07-2023
              </span>
              <span>
                12 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <h1>前言</h1><p>是不是感觉跟我混的久了，手上或多或少都有几台VPS了？最近几天我在思考的内容就是《如何利用闲置的服务器赚钱》。</p><p>我在网上也搜索了相关资料，多数给出的答案无外乎以下几方面：</p><p><strong>1、出租流量</strong> 这个我也想到过了，而且我原来也写过相关的帖子，但是因为vps本身就是数据中心IP，而数据中心IP流量往往也是最便宜的，给别人用1个月的流量，总利润10元这样子，到我们手里也就1-3元，还不稳定，万一没人用呢？</p><p><strong>2、挖矿</strong> 挖矿本身无可厚非，利用的是闲置服务器的计算性能，不过因为是cpu计算，效率很低，我虽然没有测试，但是应该可以预见的是：每天收入不一定超过0.5元，这个有机会我试一试，然后给大家答案。但是挖矿最大的问题是cpu平时占用过高，有些厂商是明令禁止挖矿行为的，轻则删鸡重则封号，得不偿失；</p><p><strong>3、其他挂机</strong> 市面上有几家挂机赚钱的公司，不过用途无非是上面两个，要么是占用你带宽，要么就是利用你的cpu。关键问题是，我们赚的仅仅是服务器价值的零头，太少真就不值得了。</p><h1>原理介绍</h1><p>我给大家带来的项目是：利用服务器直播！</p><p>简单设置linux服务器，让它自动推流到直播平台实现7X24小时不间断直播，直播收益主要来自于：广告收益、产品利润、联盟；</p><h1>收益展示</h1><p>能赚多少钱，可能是大家最为关心的问题了，先看图吧：<br><img src="https://iweec.com/usr/uploads/2022/12/3919131065.png" alt="截屏2022-12-26 13.44.16.png" title="截屏2022-12-26 13.44.16.png"></p><p>解释：</p><p>直播内容是将我以前的10个视频做了个合集然后循环播放，总共直播时长55小时，收入大约$1，观众：695人次；照这样计算，每天收益3元，每月大约100元，每年1200元；</p><p>值得说明的是我这里的测试，是在已开通YPP的频道中直播，所有收益来源于观众进入直播间的广告；那么是不是没有开通YPP直播就不赚钱了，当然不是，动脑想一想，你完全可以赚的更多。</p><h1>直播思路</h1><p>我先给大家一点提示：淘宝、拼多多的无人直播相信大家都看过吧，24小时不间断的那种都是循环播放，但是因为直播是有推荐的，直播间在首页被推荐所带来曝光量一定会带来销售额的增长，卖产品就是直播的第一种赚钱思路；</p><p>第二种赚钱思路是引流，做aff，或是靠广告；</p><p>第三种做个品牌，精准定位目标客户，目的就是吸引关注然后变现。</p><p>我上面说的是不是有点模糊，那我来举几个例子来说明一下：</p><p>1、外贸工厂，把你的产品从设计、制作、运输、装配、使用等等内容制作成视频，加上号召，然后循环在直播平台播放，这相当于有个员工24小时帮你叫卖，也包括在你睡觉的时候！</p><p>2、依靠联盟平台，搞一些与产品相关的视频进行直播：<br><img src="https://iweec.com/usr/uploads/2022/12/1333991222.png" alt="截屏2022-12-26 14.23.56.png" title="截屏2022-12-26 14.23.56.png"></p><p>选择一些你懂得的业务，什么户外、体育、健身、衣食住行所有这些周边产品多了去了。咱比方说“游戏”，有些国外的游戏网站一个CPA价格高达$30，国内也有游戏商给到18元一个注册的，而且游戏视频还很好弄到，我认为入行最简单就是这个。</p><p>3、做品牌的话，我只能给你几个成功的例子：1放松音乐、2瑜伽教学、3学习陪伴；看看这个：<br><img src="https://iweec.com/usr/uploads/2022/12/1821818877.png" alt="截屏2022-12-26 14.36.15.png" title="截屏2022-12-26 14.36.15.png"></p><p>应该是实景拍摄的，清晰的水流声加上舒缓的音乐，这意境真的是陶冶情操啊，视频目前已获得297万的观看，其实它就像广场舞就是一个死循环，不过要是直播一样会有观众来看。</p><p><strong>小结：</strong></p><p>首先选择你的目标和方向，做哪种类型的直播；然后选择产品，想好变现思路；构思几个死循环视频；上线赚钱——就这么简单！<br>可用于直播的国外vps推荐：<a href="https://iweec.com/64.html">https://iweec.com/64.html</a></p><h1>实战：如何直播</h1><h2>平台选择</h2><p>直播平台么，就这么几个，我把它们按照区域分成两类：一类国内，一类国外。国内比较厉害的：抖音快手B站头条淘宝拼多多；国外的话YouTube、Facebook、TikTok、twitch....</p><p>国内平台直播都需要实名认证，国外的也有限制，Youtube是要绑定手机号，申请直播功能24小时后才能开通，fb，tt，tw我没有弄，需要大家自行查找教程，反正挺多的。</p><p>根据内容和受众选择合适的平台和vps服务器！</p><h2>vps最低配置</h2><p>1核1G3M 流量0.5T或以上，推荐1核2G3M 1T，视频码率设置越高越费流量；</p><h2>工具代码和步骤</h2><p>系统推荐centos7，ubuntu18，debian9或以上～</p><p>一、更新系统</p><p>centos</p><pre><code>yam update -y &amp;&amp; yam install vim screen -y</code></pre><p>ubuntu debian</p><pre><code>apt update -y &amp;&amp; apt install vim screen -y</code></pre><p>二、安装ffmpeg<br>ubuntu debian</p><pre><code>sudo apt install ffmpeg
ffmpeg -version</code></pre><p>centos在下一步执行 stream.sh后再安装也OK的。</p><p>三、准备服务器文件</p><p>1、stream.sh</p><pre><code>#!/bin/bash
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH
#=================================================================#
#   System Required: CentOS7 X86_64                               #
#   Description: FFmpeg Stream Media Server                       #
#   Author: LALA                                    #
#   Website: https://www.lala.im                                  #
#=================================================================#
<h1 id="颜色选择">颜色选择</h1>
<p>red='\033[0;31m'<br>
green='\033[0;32m'<br>
yellow='\033[0;33m'<br>
font=&quot;\033[0m&quot;</p>
<p>ffmpeg_install(){</p>
<h1 id="安装ffmpeg">安装FFMPEG</h1>
<p>read -p &quot;你的机器内是否已经安装过FFmpeg4.x?安装FFmpeg才能正常推流,是否现在安装FFmpeg?(yes/no):&quot; Choose<br>
if [ $Choose = &quot;yes&quot; ];then<br>
yum -y install wget<br>
wget --no-check-certificate https://www.johnvansickle.com/ffmpeg/old-releases/ffmpeg-4.0.3-64bit-static.tar.xz<br>
tar -xJf ffmpeg-4.0.3-64bit-static.tar.xz<br>
cd ffmpeg-4.0.3-64bit-static<br>
mv ffmpeg /usr/bin &amp;&amp; mv ffprobe /usr/bin &amp;&amp; mv qt-faststart /usr/bin &amp;&amp; mv ffmpeg-10bit /usr/bin<br>
fi<br>
if [ <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 10: Choose = &amp;̲quot;no&amp;quot; ]…'>Choose = &amp;quot;no&amp;quot; ]
then
    echo -e &amp;quot;</span>{yellow} 你选择不安装FFmpeg,请确定你的机器内已经自行安装过FFmpeg,否则程序无法正常工作! ${font}&quot;<br>
sleep 2<br>
fi<br>
}</p>
<p>stream_start(){</p>
<h1 id="定义推流地址和推流码">定义推流地址和推流码</h1>
<p>read -p &quot;输入你的推流地址和推流码(rtmp协议):&quot; rtmp</p>
<h1 id="判断用户输入的地址是否合法">判断用户输入的地址是否合法</h1>
<p>if [[ <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 9: rtmp =~ &amp;̲quot;rtmp://&amp;qu…'>rtmp =~ &amp;quot;rtmp://&amp;quot; ]];then
    echo -e &amp;quot;</span>{green} 推流地址输入正确,程序将进行下一步操作. <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: {font}&amp;̲quot;
      sle…'>{font}&amp;quot;
      sleep 2
    else  
      echo -e &amp;quot;</span>{red} 你输入的地址不合法,请重新运行程序并输入! ${font}&quot;<br>
exit 1<br>
fi</p>
<h1 id="定义视频存放目录">定义视频存放目录</h1>
<p>read -p &quot;输入你的视频存放目录 (格式仅支持mp4,并且要绝对路径,例如/opt/video):&quot; folder</p>
<h1 id="判断是否需要添加水印">判断是否需要添加水印</h1>
<p>read -p &quot;是否需要为视频添加水印?水印位置默认在右上方,需要较好CPU支持(yes/no):&quot; watermark<br>
if [ <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 13: watermark = &amp;̲quot;yes&amp;quot; …'>watermark = &amp;quot;yes&amp;quot; ];then
    read -p &amp;quot;输入你的水印图片存放绝对路径,例如/opt/image/watermark.jpg (格式支持jpg/png/bmp):&amp;quot; image
    echo -e &amp;quot;</span>{yellow} 添加水印完成,程序将开始推流. ${font}&quot;<br>
# 循环<br>
while true<br>
do<br>
cd $folder<br>
for video in <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 45: … ffmpeg -re -i &amp;̲quot;'>(ls *.mp4)
        do
        ffmpeg -re -i &amp;quot;</span>video&quot; -i &quot;$image&quot; -filter_complex overlay=W-w-5:5 -c:v libx264 -c:a aac -b:a 192k -strict -2 -f flv ${rtmp}<br>
done<br>
done<br>
fi<br>
if [ <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 13: watermark = &amp;̲quot;no&amp;quot; ]…'>watermark = &amp;quot;no&amp;quot; ]
then
    echo -e &amp;quot;</span>{yellow} 你选择不添加水印,程序将开始推流. ${font}&quot;<br>
# 循环<br>
while true<br>
do<br>
cd $folder<br>
for video in <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 45: … ffmpeg -re -i &amp;̲quot;'>(ls *.mp4)
        do
        ffmpeg -re -i &amp;quot;</span>video&quot; -c:v copy -c:a aac -b:a 192k -strict -2 -f flv ${rtmp}<br>
done<br>
done<br>
fi<br>
}</p>
<h1 id="停止推流">停止推流</h1>
<p>stream_stop(){<br>
screen -S stream -X quit<br>
killall ffmpeg<br>
}</p>
<h1 id="开始菜单设置">开始菜单设置</h1>
<p>echo -e &quot;${yellow} CentOS7 X86_64 FFmpeg无人值守循环推流 For LALA.IM <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: {font}&amp;̲quot;
echo -e &amp;…'>{font}&amp;quot;
echo -e &amp;quot;</span>{red} 请确定此脚本目前是在screen窗口内运行的! <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: {font}&amp;̲quot;
echo -e &amp;…'>{font}&amp;quot;
echo -e &amp;quot;</span>{green} 1.安装FFmpeg (机器要安装FFmpeg才能正常推流) <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: {font}&amp;̲quot;
echo -e &amp;…'>{font}&amp;quot;
echo -e &amp;quot;</span>{green} 2.开始无人值守循环推流 <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: {font}&amp;̲quot;
echo -e &amp;…'>{font}&amp;quot;
echo -e &amp;quot;</span>{green} 3.停止推流 <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: {font}&amp;̲quot;
start_men…'>{font}&amp;quot;
start_menu(){
    read -p &amp;quot;请输入数字(1-3),选择你要进行的操作:&amp;quot; num
    case &amp;quot;</span>num&quot; in<br>
1)<br>
ffmpeg_install<br>
;;<br>
2)<br>
stream_start<br>
;;<br>
3)<br>
stream_stop<br>
;;<br>
*)<br>
echo -e &quot;${red} 请输入正确的数字 (1-3) ${font}&quot;<br>
;;<br>
esac<br>
}</p>
<h1 id="运行开始菜单">运行开始菜单</h1>
<p>start_menu</code></pre><p>2、视频文件上传直服务器，我这里仅仅就上传到/root目录了；这里我补充一下，上面的stream.sh中可以实现自动轮播，所以上传多个mp4文件也是可以的。</p><p>四、开启直播</p><p>ssh到服务器，开启新会话：</p><pre><code>screen -S stream</code></pre><p>新窗口中执行</p><pre><code>bash stream.sh</code></pre><p>centos在此处先选择1，安装ffmpeg；安装过后选择2，开始直播推流！</p><p>推流地址是：直播网址/直播码<br>这个地址到直播后台找一下，格式类似于：rtmp://xxxxx.xxxxx.xxx/live/xxxx-xxxx</p><p>视频存放目录，这里写绝对路径，我使用的是 /root</p><p>是否要水印，我不用，然后回车开始推流！</p><p>一切正常后，还需要找到推流会话的id，创建新的ssh窗口</p><pre><code>screen -ls</code></pre><p>然后远程detach</p><pre><code>screen -d id</code></pre><p><strong>只有一个视频？</strong><br>如果你推流的视频仅有一个，就不用上面这么复杂了，使用命令：</p><pre><code>ffmpeg -re -i input.mp4 -c:v libx264 -c:a aac -f flv rtmp://your-server-url/app/stream<br>
</code></pre><p>这条命令会从本地的 input.mp4 文件中读取视频数据，然后使用 libx264 编码视频流和 aac 编码音频流，最后使用 RTMP 协议将视频流推送到指定的服务器地址。</p><p>上面的命令中，-re 参数表示以“实时”模式读取视频数据，这意味着 ffmpeg 会尽量按照视频的原始帧率来读取数据。-i input.mp4 参数指定了输入文件的名称，-c:v libx264 和 -c:a aac 参数分别指定了视频流和音频流使用的编码器。-f flv 参数指定了输出文件的格式，在这里我们使用 FLV 格式。最后，rtmp://your-server-url/app/stream 是推流服务器的地址，你需要将其替换为你自己的服务器地址。</p><h1>资源占用问题</h1><p>服务器直播最大的问题无非就是流量，不过既然是闲置机器，放着也是放着对吧。<br>实测一个1核1GB服务器推流进程大约占20%cpu和40M多一些的内存，那么理论上我们可以用一个vps推流4个直播间。</p><h1>总结</h1><p>利用闲置的vps直播赚钱，这肯定是vps的又一个应用场景，尤其对于手上有闲置服务器的人，这个方法真实可行，做的好完全可以当成工作来做。<br>只要是有好思路和视频素材，上线即可实现盈利。</p><h1>视频教程</h1><p>B站：<a href="https://www.bilibili.com/video/BV1PG4y127PV/">https://www.bilibili.com/video/BV1PG4y127PV/</a><br>YouTube：<a href="https://www.youtube.com/watch?v=rM6i-_ecUTQ">https://www.youtube.com/watch?v=rM6i-_ecUTQ</a></p><h1>参考资料</h1><p>灵感来源：<br><a href="https://www.youtube.com/watch?v=FY1aoAr2yow">https://www.youtube.com/watch?v=FY1aoAr2yow</a><br><a href="https://lala.im/4816.html">https://lala.im/4816.html</a><br><a href="https://zhuanlan.zhihu.com/p/73984438">https://zhuanlan.zhihu.com/p/73984438</a></p>            </div></p>
<p>出处：<a href="https://iweec.com/683.html">https://iweec.com/683.html</a> </p></p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E9%A2%9C%E8%89%B2%E9%80%89%E6%8B%A9">颜色选择</a></li>
<li><a href="#%E5%AE%89%E8%A3%85ffmpeg">安装FFMPEG</a></li>
<li><a href="#%E5%AE%9A%E4%B9%89%E6%8E%A8%E6%B5%81%E5%9C%B0%E5%9D%80%E5%92%8C%E6%8E%A8%E6%B5%81%E7%A0%81">定义推流地址和推流码</a></li>
<li><a href="#%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E7%9A%84%E5%9C%B0%E5%9D%80%E6%98%AF%E5%90%A6%E5%90%88%E6%B3%95">判断用户输入的地址是否合法</a></li>
<li><a href="#%E5%AE%9A%E4%B9%89%E8%A7%86%E9%A2%91%E5%AD%98%E6%94%BE%E7%9B%AE%E5%BD%95">定义视频存放目录</a></li>
<li><a href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0">判断是否需要添加水印</a></li>
<li><a href="#%E5%81%9C%E6%AD%A2%E6%8E%A8%E6%B5%81">停止推流</a></li>
<li><a href="#%E5%BC%80%E5%A7%8B%E8%8F%9C%E5%8D%95%E8%AE%BE%E7%BD%AE">开始菜单设置</a></li>
<li><a href="#%E8%BF%90%E8%A1%8C%E5%BC%80%E5%A7%8B%E8%8F%9C%E5%8D%95">运行开始菜单</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://diss.one/infusealistwang-pan-bu-yong-nas-ye-neng-da-zao-ying-yin-ku/">
              <h3 class="post-title">
                infuse+alist+网盘，非NAS也能打造影音库
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://diss.one" target="_blank"> 表酱紫 </a>
  <a class="rss" href="https://diss.one/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
